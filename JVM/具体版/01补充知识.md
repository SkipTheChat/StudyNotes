### 1.jdk是什么？ 

JDK 是用于支持 Java 程序开发的最小环境。

1. Java 程序设计语言
2. Java 虚拟机
3. Java API类库

### 2.jre是什么？

JRE 是支持 Java 程序运行的标准环境。

1. Java SE API 子集
2. Java 虚拟机

### 3.Java历史版本的特性？

**Java Version SE 5.0**

-  引入泛型
-  增强循环，可以使用迭代方式
-  自动装箱与自动拆箱
-  类型安全的枚举
-  可变参数
-  静态引入
-  元数据（注解）
-  引入Instrumentation

**Java Version SE 6**

-  支持脚本语言
-  引入JDBC 4.0 API
-  引入Java Compiler API
-  可插拔注解
-  增加对Native PKI(Public Key Infrastructure)、Java GSS(Generic Security Service)、Kerberos和LDAP(Lightweight Directory Access Protocol)的支持
-  继承Web Services
-  做了很多优化

**Java Version SE 7**

-  switch语句块中允许以字符串作为分支条件
-  在创建泛型对象时应用类型推断
-  在一个语句块中捕获多种异常
-  支持动态语言
-  支持try-with-resources
-  引入Java NIO.2开发包
-  数值类型可以用2进制字符串表示，并且可以在字符串表示中添加下划线
-  钻石型语法
-  null值的自动处理

**Java 8**

-  函数式接口
-  Lambda表达式
-  接口的增强

### 4.虚拟机发展史

**Sun Classic VM**

只能用纯解释器方式执行代码，但是如果使用JIT编译器，就必须进行外挂，但是假如外挂JIT编译器，JIT编译器就完全接管了虚拟机的执行系统，解释器便不再工作了。

**Sun Exact VM**

它的执行系统已经具备现代高性能虚拟机的雏形：如两级即时编译器、编译器与解释器混合工作模式等。

使用**准确式内存管理**：即虚拟机可以知道内存中某个位置的数据具体是什么类型。譬如内存中有一个32位的整数123456，它到底是一个reference类型指向123456的内存地址还是一个数值为123456的整数，虚拟机将有能力分辨出来，这样才能在GC（垃圾收集）的时候准确判断堆上的数据是否还可能被使用。

由于使用了准确式内存管理，Exact VM可以抛弃以前Classic VM基于handler的对象查找方式（原因是进行GC后对象将可能会被移动位置，如果将地址为123456的对象移动到654321，在没有明确信息表明内存中哪些数据是reference的前提下，虚拟机是不敢把内存中所有为123456的值改成654321的，所以要使用句柄来保持reference值的稳定），这样每次定位对象都少了一次间接查找的开销，提升执行性能。

**Sun HotSpot VM**

热点代码探测技术：HotSpot VM的热点代码探测能力可以通过**执行计数器**找出最具有编译价值的代码，然后通知JIT编译器以方法为单位进行编译。如果一个方法被频繁调用，或方法中有效循环次数很多，将会分别触发**标准编译和OSR（栈上替换）**编译动作。通过编译器与解释器恰当地协同工作，可以在最优化的程序响应时间与最佳执行性能中取得平衡，而且无须等待本地代码输出才能执行程序，即时编译的时间压力也相对减小，这样有助于引入更多的代码优化技术，输出质量更高的本地代码。

### 5.多核并行

- 如今，CPU硬件的发展方向已经从高频率转变为多核，早在JDK 1.5就已经引入java.util.concurrent包实现了一个粗粒度的并发框架。而JDK 1.7中加入的java.util.concurrent.forkjoin包则是对这个框架的一次重要扩充。**Fork/Join模式是处理并行编程的一个经典方法**，虽然不能解决所有的问题，但是在此模式的适用范围之内，能够轻松地利用多个CPU核心提供的计算资源来协作完成一个复杂的计算任务。
- 在Java 8中，将会提供Lambda支持，函数式编程的一个重要优点就是这样的程序天然地适合并行运行。
- 另外，在并行计算中必须提及的还有**OpenJDK的子项目Sumatra**，目前显卡的算术运算能力、并行能力已经远远超过了CPU，在图形领域以外发掘显卡的潜力是近几年计算机发展的方向之一，例如C语言的CUDA。Sumatra项目就是为Java提供使用GPU（Graphics Processing Units）和APU（Accelerated Processing Units）运算能力的工具，以后它将会直接提供Java语言层面的API，或者为Lambda和其他JVM语言提供底层的并行运算支持。
- 在JDK外围，也出现了专为满足并行计算需求的计算框架，如**Apache的Hadoop Map/Reduce**，这是一个简单易懂的并行框架，能够运行在由上千个商用机器组成的大型集群上，并且能以一种可靠的容错方式并行处理TB级别的数据集。另外，还出现了诸如Scala、Clojure及Erlang等天生就具备并行计算能力的语言。

### 6.64位虚拟机

- 指针膨胀和各种数据类型对齐补白：运行于64位系统上的Java应用需要**消耗更多的内存**，通常要比32位系统额外增加10%～30%的内存消耗；其次，64位虚拟机的运行速度在各个测试项中几乎全面落后于32位虚拟机，两者大约有15%左右的性能差距。

  企业级应用经常需要使用超过4GB的内存，对于64位虚拟机的需求是非常迫切的，但由于上述原因，许多企业应用都仍然选择使用虚拟集群等方式继续在32位虚拟机中进行部署。

- 解决方案：提供了普通对象指针压缩功能（-XX：+UseCompressedOops，这个参数不建议显式设置，建议维持默认由虚拟机的Ergonomics机制自动开启），在执行代码时，动态植入压缩指令以节省内存消耗。

- 缺点：**开启压缩指针会增加执行代码数量**，因为所有在Java堆里的、指向Java堆内对象的指针都会被压缩，这些指针的访问就需要更多的代码才可以实现，而且并不只是读写字段才受影响，在实例方法调用、子类型检查等操作中也受影响，因为对象实例指向对象类型的引用也被压缩了。

参考博客：<https://blog.csdn.net/Yano_nankai/article/details/50957578>