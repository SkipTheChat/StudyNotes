## 文件

### 1.参数文件

告诉MySQL 实例启动时在哪里可以找到数据库文件，并且指定某些初始化参数，这些参数定义了某种内存结构的大小等设置，还会介绍各种参数的类型。      



### 2.日志文件 

 用来记录MySQL 实例对某种条件做出响应时写入的文件。如错误日志文件、二进制日志文件、满查询日志文件、查询日志文件等。  

##### 2.1 错误日志

对MySQL的启动、运行、关闭过程进行了记录。不但记录了出错信息，也记录一些警告信息或者正确的信息。



##### 2.2 二进制日志

记录了对数据库执行更改的所有操作，但是不包括select和show这类操作，因为这类操作对数据本身并没有修改。

有statement、row、mix三种格式.

###### row

 日志中会记录成每一行数据被修改的形式，然后在 slave 端再对相同的数据进行修改。

 **优点**：在 row 模式下，bin-log 中可以不记录执行的 SQL 语句的上下文相关的信息，仅仅只需要记录那一条记录被修改了，修改成什么样了。所以  **row 的日志内容会非常清楚的记录下每一行数据修改的细节**，非常容易理解。而且不会出现某些特定情况下的存储过程或 function ，以及 trigger 的调用和触发无法被正确复制的问题。

 **缺点**：在 row 模式下，所有的执行的语句当记录到日志中的时候，都将以每行记录的修改来记录**，这样可能会产生大量的日志内容。**



###### **Statement**

 每一条会修改数据的 SQL 都会记录到 master 的 bin-log 中。slave 在复制的时候 SQL 进程会解析成和原来 master 端执行过的相同的 SQL 再次执行。

 **优点**：在 statement 模式下，首先就是解决了 row 模式的缺点，**不需要记录每一行数据的变化**，减少了  bin-log 日志量，节省 I/O 以及存储资源，提高性能。因为他只需要记录在 master 上所执行的语句的细节，以及执行语句时候的上下文的信息。

 **缺点**：在  statement 模式下，由于他是记录的执行语句，所以，为了让这些语句在 slave  端也能正确执行，那么他还必须记录每条语句在执行的时候的一些相关信息，也就是上下文信息，以保证所有语句在  slave 端杯执行的时候能够得到和在 master 端执行时候相同的结果。另外就是，由于 MySQL  现在发展比较快，很多的新功能不断的加入，使 MySQL 的复制遇到了不小的挑战，自然复制的时候涉及到越复杂的内容，bug 也就越容易出现。在  statement 中，目前已经发现的就有不少情况会造成 MySQL  的复制出现问题，主要是修改数据的时候使用了某些特定的函数或者功能的时候会出现，比如：sleep()  函数在有些版本中就不能被正确复制，在存储过程中使用了 last_insert_id() 函数，可能会使  slave 和 master 上得到不一致的 id 等等。由于 row 是基于每一行来记录的变化，所以不会出现类似的问题。

###### Mixed

 从官方文档中看到，之前的 MySQL 一直都只有基于 statement 的复制模式，直到 5.1.5 版本的 MySQL 才开始支持 row  复制。从 5.0 开始，MySQL 的复制已经解决了大量老版本中出现的无法正确复制的问题。但是由于存储过程的出现，给 MySQL  Replication 又带来了更大的新挑战。另外，看到官方文档说，从 5.1.8 版本开始，MySQL 提供了除 Statement 和  Row 之外的第三种复制模式：Mixed，实际上就是前两种模式的结合。在 Mixed 模式下，MySQL  会根据执行的每一条具体的 SQL 语句来区分对待记录的日志形式，也就是在 statement 和 row 之间选择一种。新版本中的  statment 还是和以前一样，仅仅记录执行的语句。而新版本的 MySQL 中对 row 模式也被做了优化，并不是所有的修改都会以 row  模式来记录，比如遇到表结构变更的时候就会以 statement 模式来记录，如果 SQL 语句确实就是 update 或者 delete  等修改数据的语句，那么还是会记录所有行的变更。





##### 2.3 慢查询日志

可以为SQL语句优化带来很好的帮助。可以设一个阈值，将运行时间超过该值的所有SQL语句都记录到慢查询日志文件中。



##### 2.4 查询日志

记录了所有对MySQL数据库请求的信息，不论是否得到了正确的执行。



### 3.socket文件

 当用Unix域套接字方式进行连接时需要的文件。



### 4.pid文件

MySQL 实例的进程ID文件。



### 5.MySQL表结构文件

用来存放MySQL表结构定义文件。



### 6.存储引擎文件

 因为MySQL 表存储引擎的关系，每个存储引擎都会有自己的文件来保存各种数据。这些存储引擎真正存储了数据和索引等数据。

* 表空间文件
* 重做日志文件





### 7 二进制日志和重做日志的区别

首先，二进制日志会记录所有与Mysql有关的日志记录，包括InnoDB、MyISAM、Heap等其他存储引擎的日志。而InnoDB存储引擎重做日志只存储有关其本身的事务日志；

其次内容不同，不管将二进制日志文件记录的格式设为STATEMENT还是ROW，又或者是MIXED，其记录的都是关于一个事务的具体操作内容。而InnoDB存储引擎的重做日志文件记录的关于每个页的更改的物理情况 。

此外，写入时间不同，二进制日志文件是在事务提交前进行记录的，而在事务进行的过程中，不断有重做日志条目被写入重做日志文件中。







