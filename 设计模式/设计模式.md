>  é‡ç‚¹æŒæ¡ï¼šé€‚é…å™¨æ¨¡å¼ï¼Œè£…é¥°æ¨¡å¼ï¼Œè§‚å¯Ÿè€…æ¨¡å¼ï¼Œå•ä¾‹æ¨¡å¼ï¼Œå·¥å‚æ¨¡å¼ï¼Œç­–ç•¥æ¨¡å¼ï¼Œæ¨¡æ¿æ¨¡å¼ï¼Œä»£ç†æ¨¡å¼



# ğŸƒ åˆ›å»ºå‹

## 1 å•ä¾‹æ¨¡å¼ï¼ˆSingletonï¼‰

å•ä¾‹æ¨¡å¼æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š  

1. å•ä¾‹ç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ã€‚  
2. å•ä¾‹ç±»å¿…é¡»è‡ªå·±åˆ›å»ºè‡ªå·±çš„å”¯ä¸€å®ä¾‹ã€‚  
3. å•ä¾‹ç±»å¿…é¡»ç»™æ‰€æœ‰å…¶ä»–å¯¹è±¡æä¾›è¿™ä¸€å®ä¾‹ã€‚ 



é€‚ç”¨åœºæ™¯ï¼š

åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œçº¿ç¨‹æ± ã€ç¼“å­˜ã€æ—¥å¿—å¯¹è±¡ã€å¯¹è¯æ¡†ã€æ‰“å°æœºã€æ˜¾å¡çš„é©±åŠ¨ç¨‹åºå¯¹è±¡å¸¸è¢«è®¾è®¡æˆå•ä¾‹ã€‚è¿™äº›åº”ç”¨éƒ½æˆ–å¤šæˆ–å°‘å…·æœ‰èµ„æºç®¡ç†å™¨çš„åŠŸèƒ½ã€‚



### 

### 1.1 æ‡’æ±‰å¼

#### 1.1.1 çº¿ç¨‹ä¸å®‰å…¨

ä»¥ä¸‹å®ç°ä¸­ï¼Œç§æœ‰é™æ€å˜é‡ singleè¢«å»¶è¿Ÿå®ä¾‹åŒ–ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œå¦‚æœæ²¡æœ‰ç”¨åˆ°è¯¥ç±»ï¼Œé‚£ä¹ˆå°±ä¸ä¼šå®ä¾‹åŒ– singleï¼Œä»è€ŒèŠ‚çº¦èµ„æºã€‚

è¿™ä¸ªå®ç°åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ˜¯ä¸å®‰å…¨çš„ï¼Œå¦‚æœå¤šä¸ªçº¿ç¨‹èƒ½å¤ŸåŒæ—¶è¿›å…¥ `if (single== null)` ï¼Œå¹¶ä¸”æ­¤æ—¶ singleä¸º nullï¼Œé‚£ä¹ˆä¼šæœ‰å¤šä¸ªçº¿ç¨‹æ‰§è¡Œ `single= new Singleton();` è¯­å¥ï¼Œè¿™å°†å¯¼è‡´å®ä¾‹åŒ–å¤šæ¬¡ Singletonã€‚

```java
public class Singleton {
    private Singleton() {}
    private static Singleton single=null;
    //é™æ€å·¥å‚æ–¹æ³• 
    public static Singleton getInstance() {
         if (single == null) {  
             single = new Singleton();
         }  
        return single;
    }
}
```



#### 1.1.2 synchronized-çº¿ç¨‹å®‰å…¨

ä½†æ˜¯å½“ä¸€ä¸ªçº¿ç¨‹è¿›å…¥è¯¥æ–¹æ³•ä¹‹åï¼Œå…¶å®ƒè¯•å›¾è¿›å…¥è¯¥æ–¹æ³•çš„çº¿ç¨‹éƒ½å¿…é¡»ç­‰å¾…ï¼Œå³ä½¿ singleå·²ç»è¢«å®ä¾‹åŒ–äº†ã€‚è¿™ä¼šè®©çº¿ç¨‹é˜»å¡æ—¶é—´è¿‡é•¿ï¼Œå› æ­¤è¯¥æ–¹æ³•æœ‰æ€§èƒ½é—®é¢˜ï¼Œä¸æ¨èä½¿ç”¨ã€‚

```java
public class Singleton {
    private Singleton() {}
    private static Singleton single=null;
    //é™æ€å·¥å‚æ–¹æ³• 
    public static synchronized Singleton getInstance() {
         if (single == null) {  
             single = new Singleton();
         }  
        return single;
    }
}
```



#### 1.1.3 åŒé‡æ ¡éªŒé”-çº¿ç¨‹å®‰å…¨

singleåªéœ€è¦è¢«å®ä¾‹åŒ–ä¸€æ¬¡ï¼Œä¹‹åå°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ã€‚åŠ é”æ“ä½œåªéœ€è¦å¯¹å®ä¾‹åŒ–é‚£éƒ¨åˆ†çš„ä»£ç è¿›è¡Œï¼Œåªæœ‰å½“ singleæ²¡æœ‰è¢«å®ä¾‹åŒ–æ—¶ï¼Œæ‰éœ€è¦è¿›è¡ŒåŠ é”ã€‚

åŒé‡æ ¡éªŒé”å…ˆåˆ¤æ–­ singleæ˜¯å¦å·²ç»è¢«å®ä¾‹åŒ–ï¼Œå¦‚æœæ²¡æœ‰è¢«å®ä¾‹åŒ–ï¼Œé‚£ä¹ˆæ‰å¯¹å®ä¾‹åŒ–è¯­å¥è¿›è¡ŒåŠ é”ã€‚

```java
 public class Singleton {
    private Singleton() {}
    private static Singleton single=null;
     
   public static Singleton getInstance() {
        if (single == null) {  
            synchronized (Singleton.class) {  
               if (single == null) {  
                  single = new Singleton(); 
               }  
            }  
        }  
        return single; 
    }
}
```



è€ƒè™‘ä¸‹é¢çš„å®ç°ï¼Œä¹Ÿå°±æ˜¯åªä½¿ç”¨äº†ä¸€ä¸ª if è¯­å¥ã€‚åœ¨ single== null çš„æƒ…å†µä¸‹ï¼Œå¦‚æœä¸¤ä¸ªçº¿ç¨‹éƒ½æ‰§è¡Œäº† if è¯­å¥ï¼Œé‚£ä¹ˆä¸¤ä¸ªçº¿ç¨‹éƒ½ä¼šè¿›å…¥ if è¯­å¥å—å†…ã€‚è™½ç„¶åœ¨ if è¯­å¥å—å†…æœ‰åŠ é”æ“ä½œï¼Œä½†æ˜¯ä¸¤ä¸ªçº¿ç¨‹éƒ½ä¼šæ‰§è¡Œ `single= new Singleton();` è¿™æ¡è¯­å¥ï¼Œåªæ˜¯å…ˆåçš„é—®é¢˜ï¼Œé‚£ä¹ˆå°±ä¼šè¿›è¡Œä¸¤æ¬¡å®ä¾‹åŒ–ã€‚å› æ­¤å¿…é¡»ä½¿ç”¨åŒé‡æ ¡éªŒé”ï¼Œä¹Ÿå°±æ˜¯éœ€è¦ä½¿ç”¨ä¸¤ä¸ª if è¯­å¥ï¼šç¬¬ä¸€ä¸ª if è¯­å¥ç”¨æ¥é¿å… singleå·²ç»è¢«å®ä¾‹åŒ–ä¹‹åçš„åŠ é”æ“ä½œï¼Œè€Œç¬¬äºŒä¸ª if è¯­å¥è¿›è¡Œäº†åŠ é”ï¼Œæ‰€ä»¥åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è¿›å…¥ï¼Œå°±ä¸ä¼šå‡ºç° single== null æ—¶ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è¿›è¡Œå®ä¾‹åŒ–æ“ä½œã€‚

```java
if (single == null) {
    synchronized (Singleton.class) {
        single = new Singleton();
    }
}
```



singleé‡‡ç”¨ **volatile** å…³é”®å­—ä¿®é¥°ä¹Ÿæ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œ `single= new Singleton();` è¿™æ®µä»£ç å…¶å®æ˜¯åˆ†ä¸ºä¸‰æ­¥æ‰§è¡Œï¼š

1. ä¸º singleåˆ†é…å†…å­˜ç©ºé—´
2. åˆå§‹åŒ– single
3. å°† singleæŒ‡å‘åˆ†é…çš„å†…å­˜åœ°å€

ä½†æ˜¯ç”±äº JVM å…·æœ‰æŒ‡ä»¤é‡æ’çš„ç‰¹æ€§ï¼Œæ‰§è¡Œé¡ºåºæœ‰å¯èƒ½å˜æˆ 1>3>2ã€‚æŒ‡ä»¤é‡æ’åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œä½†æ˜¯åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¼šå¯¼è‡´ä¸€ä¸ªçº¿ç¨‹è·å¾—è¿˜æ²¡æœ‰åˆå§‹åŒ–çš„å®ä¾‹ã€‚ä¾‹å¦‚ï¼Œçº¿ç¨‹ T1 æ‰§è¡Œäº† 1 å’Œ 3ï¼Œæ­¤æ—¶ T2 è°ƒç”¨ getInstance() åå‘ç° singleä¸ä¸ºç©ºï¼Œå› æ­¤è¿”å› singleï¼Œä½†æ­¤æ—¶ singleè¿˜æœªè¢«åˆå§‹åŒ–ã€‚

**ä½¿ç”¨ volatile å¯ä»¥ç¦æ­¢ JVM çš„æŒ‡ä»¤é‡æ’ï¼Œä¿è¯åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¹Ÿèƒ½æ­£å¸¸è¿è¡Œã€‚**





#### 1.1.4 é™æ€å†…éƒ¨ç±»å®ç°

å½“ Singleton ç±»è¢«åŠ è½½æ—¶ï¼Œé™æ€å†…éƒ¨ç±» LazyHolderæ²¡æœ‰è¢«åŠ è½½è¿›å†…å­˜ã€‚åªæœ‰å½“è°ƒç”¨ `getInstance()` æ–¹æ³•ä»è€Œè§¦å‘ `LazyHolder.INSTANCE` æ—¶ LazyHolder æ‰ä¼šè¢«åŠ è½½ï¼Œæ­¤æ—¶åˆå§‹åŒ– INSTANCE å®ä¾‹ï¼Œå¹¶ä¸” JVM èƒ½ç¡®ä¿ INSTANCE åªè¢«å®ä¾‹åŒ–ä¸€æ¬¡ã€‚

è¿™ç§æ–¹å¼ä¸ä»…å…·æœ‰å»¶è¿Ÿåˆå§‹åŒ–çš„å¥½å¤„ï¼Œè€Œä¸”ç”± JVM æä¾›äº†å¯¹çº¿ç¨‹å®‰å…¨çš„æ”¯æŒã€‚

>è¿™ç§æ¯”ä¸Šé¢sychronizedå’ŒåŒé‡æ£€ç´¢é”æ–¹æ³•éƒ½å¥½ä¸€äº›ï¼Œæ—¢å®ç°äº†çº¿ç¨‹å®‰å…¨ï¼Œåˆé¿å…äº†åŒæ­¥å¸¦æ¥çš„æ€§èƒ½å½±å“ã€‚ 

```java
public class Singleton {  
    private static class LazyHolder {  
       private static final Singleton INSTANCE = new Singleton();  
    }  
    private Singleton (){}  
    public static final Singleton getInstance() {  
       return LazyHolder.INSTANCE;  
    }  
}  
```

#### 



### 1.2 é¥¿æ±‰å¼-çº¿ç¨‹å®‰å…¨

çº¿ç¨‹ä¸å®‰å…¨é—®é¢˜ä¸»è¦æ˜¯ç”±äº singleè¢«å®ä¾‹åŒ–å¤šæ¬¡ï¼Œé‡‡å–ç›´æ¥å®ä¾‹åŒ– single çš„æ–¹å¼å°±ä¸ä¼šäº§ç”Ÿçº¿ç¨‹ä¸å®‰å…¨é—®é¢˜ã€‚

ä½†æ˜¯ç›´æ¥å®ä¾‹åŒ–çš„æ–¹å¼ä¹Ÿä¸¢å¤±äº†å»¶è¿Ÿå®ä¾‹åŒ–å¸¦æ¥çš„èŠ‚çº¦èµ„æºçš„å¥½å¤„ã€‚

```java
//é¥¿æ±‰å¼å•ä¾‹ç±».åœ¨ç±»åˆå§‹åŒ–æ—¶ï¼Œå·²ç»è‡ªè¡Œå®ä¾‹åŒ– 
public class Singleton1 {
    private Singleton1() {}
    private static final Singleton1 single = new Singleton1();
    //é™æ€å·¥å‚æ–¹æ³• 
    public static Singleton1 getInstance() {
        return single;
    }
}
```





### 1.3 æšä¸¾å®ç°å•ä¾‹

```java
public enum Singleton {

    INSTANCE;

    public void doSomething() {
        System.out.println("doSomething");
    }

}
```

```java
public class Main {
    public static void main(String[] args) {
        //è°ƒç”¨æ–¹æ³•
        Singleton.INSTANCE.doSomething();
    }

}
```

**è¯¥å®ç°å¯ä»¥é˜²æ­¢åå°„æ”»å‡»ã€‚æšä¸¾æ˜¯finalä¿®é¥°çš„ã€‚**





## 2 å·¥å‚æ¨¡å¼

  å·¥å‚æ¨¡å¼ä¸»è¦æ˜¯ä¸ºåˆ›å»ºå¯¹è±¡æä¾›è¿‡æ¸¡æ¥å£ï¼Œä»¥ä¾¿å°†åˆ›å»ºå¯¹è±¡çš„å…·ä½“è¿‡ç¨‹å±è”½éš”ç¦»èµ·æ¥ï¼Œè¾¾åˆ°æé«˜çµæ´»æ€§çš„ç›®çš„ã€‚ 
å·¥å‚æ¨¡å¼å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼š 

1. ç®€å•å·¥å‚æ¨¡å¼ï¼ˆSimple Factoryï¼‰ 

2. å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆFactory Methodï¼‰ 
3. æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factoryï¼‰ 

è¿™ä¸‰ç§æ¨¡å¼ä»ä¸Šåˆ°ä¸‹é€æ­¥æŠ½è±¡ï¼Œå¹¶ä¸”æ›´å…·ä¸€èˆ¬æ€§ã€‚ 
GOFåœ¨ã€Šè®¾è®¡æ¨¡å¼ã€‹ä¸€ä¹¦ä¸­å°†å·¥å‚æ¨¡å¼åˆ†ä¸ºä¸¤ç±»ï¼šå·¥å‚æ–¹æ³•æ¨¡å¼ä¸æŠ½è±¡å·¥å‚æ¨¡å¼

å°†ç®€å•å·¥å‚æ¨¡å¼çœ‹ä¸ºå·¥å‚æ–¹æ³•æ¨¡å¼çš„ä¸€ç§ç‰¹ä¾‹ï¼Œä¸¤è€…å½’ä¸ºä¸€ç±»ã€‚ 



**åŒºåˆ« ï¼š**

* å·¥å‚æ–¹æ³•æ¨¡å¼ï¼š

  ä¸€ä¸ªæŠ½è±¡äº§å“ç±»ï¼Œå¯ä»¥æ´¾ç”Ÿå‡ºå¤šä¸ªå…·ä½“äº§å“ç±»ã€‚   
  ä¸€ä¸ªæŠ½è±¡å·¥å‚ç±»ï¼Œå¯ä»¥æ´¾ç”Ÿå‡ºå¤šä¸ªå…·ä½“å·¥å‚ç±»ã€‚   
  æ¯ä¸ªå…·ä½“å·¥å‚ç±»åªèƒ½åˆ›å»ºä¸€ä¸ªå…·ä½“äº§å“ç±»çš„å®ä¾‹ã€‚

* æŠ½è±¡å·¥å‚æ¨¡å¼ï¼š

  å¤šä¸ªæŠ½è±¡äº§å“ç±»ï¼Œæ¯ä¸ªæŠ½è±¡äº§å“ç±»å¯ä»¥æ´¾ç”Ÿå‡ºå¤šä¸ªå…·ä½“äº§å“ç±»ã€‚   
  ä¸€ä¸ªæŠ½è±¡å·¥å‚ç±»ï¼Œå¯ä»¥æ´¾ç”Ÿå‡ºå¤šä¸ªå…·ä½“å·¥å‚ç±»ã€‚   
  æ¯ä¸ªå…·ä½“å·¥å‚ç±»å¯ä»¥åˆ›å»ºå¤šä¸ªå…·ä½“äº§å“ç±»çš„å®ä¾‹ã€‚   





### 2.1 ç®€å•å·¥å‚æ¨¡å¼

ç®€å•å·¥å‚æŠŠå®ä¾‹åŒ–çš„æ“ä½œå•ç‹¬æ”¾åˆ°ä¸€ä¸ªç±»ä¸­ï¼Œè¿™ä¸ªç±»å°±æˆä¸ºç®€å•å·¥å‚ç±»ï¼Œè®©ç®€å•å·¥å‚ç±»æ¥å†³å®šåº”è¯¥ç”¨å“ªä¸ªå…·ä½“å­ç±»æ¥å®ä¾‹åŒ–ã€‚

![](./assets/1.1.png)

äº§å“ç±»ï¼š 

```java
abstract class BMW {
	public BMW(){
		
	}
}
```

```java
public class BMW320 extends BMW {
	public BMW320() {
		System.out.println("åˆ¶é€ -->BMW320");
	}
}
public class BMW523 extends BMW{
	public BMW523(){
		System.out.println("åˆ¶é€ -->BMW523");
	}
}
```



å·¥å‚ç±»ï¼š 

```java
public class Factory {
	public BMW createBMW(int type) {
		switch (type) {
		
		case 320:
			return new BMW320();
 
		case 523:
			return new BMW523();
 
		default:
			break;
		}
		return null;
	}
}
```

å®¢æˆ·ç±»ï¼š 

```java
public class Customer {
	public static void main(String[] args) {
		Factory factory = new Factory();
		BMW bmw320 = factory.createBMW(320);
		BMW bmw523 = factory.createBMW(523);
	}
}
```



### 2.2 å·¥å‚æ–¹æ³•æ¨¡å¼



![](./assets/1.2.png)



å®šä¹‰äº†ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„å·¥å‚æ¥å£ï¼Œå·¥å‚æ¥å®ä¾‹åŒ–å¯¹è±¡ï¼Œä½†ç”±å­ç±»å†³å®šè¦å®ä¾‹åŒ–å“ªä¸ªç±»ã€‚å·¥å‚æ–¹æ³•æŠŠå®ä¾‹åŒ–æ“ä½œæ¨è¿Ÿåˆ°å­ç±»ã€‚

ä¸ç®€å•å·¥å‚ä¸åŒï¼Œè¿™é‡Œç»™å·¥å‚å®šä¹‰äº†ä¸€ä¸ªæ¥å£ï¼Œå¹¶ä¸”å®šä¹‰äº†å¤šä¸ªä¸åŒå·¥å‚ï¼Œæ¯ä¸ªå·¥å‚è´Ÿè´£ä¸€æ¬¾äº§å“ã€‚



 äº§å“ç±»ï¼š 

```java
abstract class BMW {
	public BMW(){
		
	}
}
```

```java
public class BMW320 extends BMW {
	public BMW320() {
		System.out.println("åˆ¶é€ -->BMW320");
	}
}
public class BMW523 extends BMW{
	public BMW523(){
		System.out.println("åˆ¶é€ -->BMW523");
	}
}
```

  

åˆ›å»ºå·¥å‚ç±»ï¼š 

```java
interface FactoryBMW {
	BMW createBMW();
}
```



```java
public class FactoryBMW320 implements FactoryBMW{
 
	@Override
	public BMW320 createBMW() {
 
		return new BMW320();
	}
 
}
public class FactoryBMW523 implements FactoryBMW {
	@Override
	public BMW523 createBMW() {
 
		return new BMW523();
	}
}
```

å®¢æˆ·ç±»ï¼š 

```java
public class Customer {
	public static void main(String[] args) {
		FactoryBMW320 factoryBMW320 = new FactoryBMW320();
		BMW320 bmw320 = factoryBMW320.createBMW();
 
		FactoryBMW523 factoryBMW523 = new FactoryBMW523();
		BMW523 bmw523 = factoryBMW523.createBMW();
	}
}
```



### 2.3 æŠ½è±¡å·¥å‚æ¨¡å¼ 

æŠ½è±¡å·¥å‚æ¨¡å¼åˆ›å»ºçš„æ˜¯å¯¹è±¡å®¶æ—ï¼Œä¹Ÿå°±æ˜¯å¾ˆå¤šå¯¹è±¡è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”è¿™äº›å¯¹è±¡æ˜¯ç›¸å…³çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¿…é¡»ä¸€èµ·åˆ›å»ºå‡ºæ¥ã€‚è€Œå·¥å‚æ–¹æ³•æ¨¡å¼åªæ˜¯ç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼æœ‰å¾ˆå¤§ä¸åŒã€‚

ä½†æ˜¯åœ¨æ•´ä½“åˆ›å»ºæ¨¡å¼ä¸Šï¼Œç¬¦åˆå·¥å‚æ–¹æ³•æ¨¡å¼çš„å®šä¹‰ã€‚

![](./assets/1.3.png)

äº§å“ç±»ï¼š 

```java
//å‘åŠ¨æœºä»¥åŠå‹å·  
public interface Engine {  
 
}  
public class EngineA extends Engine{  
    public EngineA(){  
        System.out.println("åˆ¶é€ -->EngineA");  
    }  
}  
public class EngineBextends Engine{  
    public EngineB(){  
        System.out.println("åˆ¶é€ -->EngineB");  
    }  
}  
 
//ç©ºè°ƒä»¥åŠå‹å·  
public interface Aircondition {  
 
}  
public class AirconditionA extends Aircondition{  
    public AirconditionA(){  
        System.out.println("åˆ¶é€ -->AirconditionA");  
    }  
}  
public class AirconditionB extends Aircondition{  
    public AirconditionB(){  
        System.out.println("åˆ¶é€ -->AirconditionB");  
    }  
} 
```



 åˆ›å»ºå·¥å‚ç±»ï¼š 

```java
//åˆ›å»ºå·¥å‚çš„æ¥å£  
public interface AbstractFactory {  
    //åˆ¶é€ å‘åŠ¨æœº
    public Engine createEngine();
    //åˆ¶é€ ç©ºè°ƒ 
    public Aircondition createAircondition(); 
}  
 
 
//ä¸ºå®é©¬320ç³»åˆ—ç”Ÿäº§é…ä»¶  
public class FactoryBMW320 implements AbstractFactory{  
      
    @Override  
    public Engine createEngine() {    
        return new EngineA();  
    }  
    @Override  
    public Aircondition createAircondition() {  
        return new AirconditionA();  
    }  
}  
//å®é©¬523ç³»åˆ—
public class FactoryBMW523 implements AbstractFactory {  
  
     @Override  
    public Engine createEngine() {    
        return new EngineB();  
    }  
    @Override  
    public Aircondition createAircondition() {  
        return new AirconditionB();  
    }  
 
 
} 
```

å®¢æˆ·: 

```java
public class Customer {  
    public static void main(String[] args){  
        //ç”Ÿäº§å®é©¬320ç³»åˆ—é…ä»¶
        FactoryBMW320 factoryBMW320 = new FactoryBMW320();  
        factoryBMW320.createEngine();
        factoryBMW320.createAircondition();
          
        //ç”Ÿäº§å®é©¬523ç³»åˆ—é…ä»¶  
        FactoryBMW523 factoryBMW523 = new FactoryBMW523();  
        factoryBMW320.createEngine();
        factoryBMW320.createAircondition();
    }  
}
```





## 3 ç”Ÿæˆå™¨/å»ºé€ è€…æ¨¡å¼ï¼ˆBuilderï¼‰

![](./assets/1.4.png)



åˆ›å»ºè€…æ¨¡å¼åˆå«å»ºé€ è€…æ¨¡å¼ï¼Œæ˜¯å°†ä¸€ä¸ªå¤æ‚çš„å¯¹è±¡çš„**æ„å»º**ä¸å®ƒçš„**è¡¨ç¤º**åˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚åˆ›å»ºè€…æ¨¡å¼éšè—äº†å¤æ‚å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œå®ƒæŠŠå¤æ‚å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹åŠ ä»¥æŠ½è±¡ï¼Œé€šè¿‡å­ç±»ç»§æ‰¿æˆ–è€…é‡è½½çš„æ–¹å¼ï¼ŒåŠ¨æ€çš„åˆ›å»ºå…·æœ‰å¤åˆå±æ€§çš„å¯¹è±¡ã€‚



 **å»ºé€ è€…æ¨¡å¼ä¸»è¦æ¶‰åŠå‡ ä¸ªè§’è‰²ï¼š**

ã€€1. æŒ‡æŒ¥è€…ï¼ˆDirectorï¼‰ï¼Œè´Ÿè´£å’Œå®¢æˆ·ï¼ˆClientï¼‰å¯¹è¯

ã€€2. ä¹‹åæŒ‡æŒ¥è€…å°†å®¢æˆ·çš„äº§å“éœ€æ±‚åˆ’åˆ†ä¸ºæ¯”è¾ƒç¨³å®šçš„å»ºé€ è¿‡ç¨‹ï¼ˆAbstractBuilderï¼‰

ã€€3. æŒ‡æŒ¥è€…æŒ‡æŒ¥å…·ä½“çš„å»ºé€ è€…ï¼ˆConcreteBuilderï¼‰å¹²æ´»

ã€€4. è·å–å»ºé€ è€…å»ºé€ çš„äº§å“ç»™å®¢æˆ·



### 3.1 ç¤ºä¾‹ä»£ç 

[ç¤ºä¾‹](https://blog.csdn.net/u010102390/article/details/80179754)



### 3.2 å®ç°ç®€æ˜“StringBuilder 

ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€æ˜“çš„ StringBuilder å®ç°ï¼Œå‚è€ƒäº† JDK 1.8 æºç ã€‚

å»ºé€ è€…ï¼š

```java
public class AbstractStringBuilder {
    protected char[] value;

    protected int count;

    public AbstractStringBuilder(int capacity) {
        count = 0;
        value = new char[capacity];
    }

    public AbstractStringBuilder append(char c) {
        ensureCapacityInternal(count + 1);
        value[count++] = c;
        return this;
    }

    private void ensureCapacityInternal(int minimumCapacity) {
        // overflow-conscious code
        if (minimumCapacity - value.length > 0)
            expandCapacity(minimumCapacity);
    }

    void expandCapacity(int minimumCapacity) {
        int newCapacity = value.length * 2 + 2;
        if (newCapacity - minimumCapacity < 0)
            newCapacity = minimumCapacity;
        if (newCapacity < 0) {
            if (minimumCapacity < 0) // overflow
                throw new OutOfMemoryError();
            newCapacity = Integer.MAX_VALUE;
        }
        value = Arrays.copyOf(value, newCapacity);
    }
}
```



æŒ‡æŒ¥è€…ï¼š

```java
public class StringBuilder extends AbstractStringBuilder {
    public StringBuilder() {
        super(16);
    }

    @Override
    public String toString() {
        // Create a copy, don't share the array
        return new String(value, 0, count);
    }
}
```



```java
public class Client {
    public static void main(String[] args) {
        StringBuilder sb = new StringBuilder();
        final int count = 26;
        for (int i = 0; i < count; i++) {
            sb.append((char) ('a' + i));
        }
        System.out.println(sb.toString());
    }
}
```

```html
abcdefghijklmnopqrstuvwxyz
```





## 4  åŸå‹æ¨¡å¼ï¼ˆPrototypeï¼‰

ä½¿ç”¨åŸå‹å®ä¾‹æŒ‡å®šè¦åˆ›å»ºå¯¹è±¡çš„ç±»å‹ï¼Œé€šè¿‡å¤åˆ¶è¿™ä¸ªåŸå‹æ¥åˆ›å»ºæ–°å¯¹è±¡ã€‚

![](./assets/1.5.png)



```java
public abstract class Prototype {
    abstract Prototype myClone();
}
```

```java
public class ConcretePrototype extends Prototype {

    private String filed;

    public ConcretePrototype(String filed) {
        this.filed = filed;
    }

    @Override
    Prototype myClone() {
        return new ConcretePrototype(filed);
    }

    @Override
    public String toString() {
        return filed;
    }
}
```

```java
public class Client {
    public static void main(String[] args) {
        Prototype prototype = new ConcretePrototype("abc");
        Prototype clone = prototype.myClone();
        //prototype!=clone,ä»–ä»¬æ˜¯ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡ï¼Œåªæ˜¯å†…å®¹ä¸€æ ·ã€‚
    }
}
```



#### JDK

- [java.lang.Object#clone()](http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone%28%29)



# :christmas_tree: è¡Œä¸ºå‹

## 1 è´£ä»»é“¾æ¨¡å¼

ä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚å°†è¿™äº›å¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾å‘é€è¯¥è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚

![](./assets/1.6.png)



[æ¨èä»£ç ](https://www.cnblogs.com/fengyumeng/p/10839570.html)

Handle:è´Ÿè´£åˆ¤æ–­successorï¼ˆè¯·æ±‚ï¼‰çš„ç±»å‹ï¼Œç„¶åè°ƒç”¨åˆé€‚çš„æ–¹æ³•ã€‚

ä¹Ÿå°±æ˜¯è´Ÿè´£è¯·æ±‚è½¬å‘

```java
public abstract class Handler {

    protected Handler successor;


    public Handler(Handler successor) {
        this.successor = successor;
    }


    protected abstract void handleRequest(Request request);
}
```



å…·ä½“è¯·æ±‚å¤„ç†ç±»ï¼š

```java
public class ConcreteHandler1 extends Handler {

    public ConcreteHandler1(Handler successor) {
        super(successor);
    }


    @Override
    protected void handleRequest(Request request) {
        if (request.getType() == RequestType.TYPE1) {
            System.out.println(request.getName() + " is handle by ConcreteHandler1");
            return;
        }
        if (successor != null) {
            successor.handleRequest(request);
        }
    }
}
```



```java
public class ConcreteHandler2 extends Handler {

    public ConcreteHandler2(Handler successor) {
        super(successor);
    }


    @Override
    protected void handleRequest(Request request) {
        if (request.getType() == RequestType.TYPE2) {
            System.out.println(request.getName() + " is handle by ConcreteHandler2");
            return;
        }
        if (successor != null) {
            successor.handleRequest(request);
        }
    }
}
```



è¯·æ±‚ç±»ï¼š

```java
public class Request {

    private RequestType type;
    private String name;


    public Request(RequestType type, String name) {
        this.type = type;
        this.name = name;
    }


    public RequestType getType() {
        return type;
    }


    public String getName() {
        return name;
    }
}

```



```java
public enum RequestType {
    TYPE1, TYPE2
}
```



å®¢æˆ·ç«¯ç±»ï¼š

```java
public class Client {

    public static void main(String[] args) {

        Handler handler1 = new ConcreteHandler1(null);
        Handler handler2 = new ConcreteHandler2(handler1);

        Request request1 = new Request(RequestType.TYPE1, "request1");
        handler2.handleRequest(request1);

        Request request2 = new Request(RequestType.TYPE2, "request2");
        handler2.handleRequest(request2);
    }
}
```



#### JDK

- [java.util.logging.Logger#log()](http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html#log%28java.util.logging.Level,%20java.lang.String%29)
- [Apache Commons Chain](https://commons.apache.org/proper/commons-chain/index.html)
- [javax.servlet.Filter#doFilter()](http://docs.oracle.com/javaee/7/api/javax/servlet/Filter.html#doFilter-javax.servlet.ServletRequest-javax.servlet.ServletResponse-javax.servlet.FilterChain-)



## 2 å‘½ä»¤æ¨¡å¼

**å°†å‘½ä»¤å°è£…æˆå¯¹è±¡ä¸­ï¼Œå…·æœ‰ä»¥ä¸‹ä½œç”¨ï¼š**

- ä½¿ç”¨å‘½ä»¤æ¥å‚æ•°åŒ–å…¶å®ƒå¯¹è±¡
- å°†å‘½ä»¤æ”¾å…¥é˜Ÿåˆ—ä¸­è¿›è¡Œæ’é˜Ÿ
- å°†å‘½ä»¤çš„æ“ä½œè®°å½•åˆ°æ—¥å¿—ä¸­
- æ”¯æŒå¯æ’¤é”€çš„æ“ä½œ



**æ¨¡å—è¯´æ˜ï¼š**

- Command:æŠ½è±¡å‘½ä»¤æ¥å£.
- Receiverï¼šå‘½ä»¤æ¥æ”¶è€…ï¼Œä¹Ÿå°±æ˜¯å‘½ä»¤çœŸæ­£çš„æ‰§è¡Œè€…
- Invokerï¼šé€šè¿‡å®ƒæ¥è°ƒç”¨å‘½ä»¤
- Clientï¼šå¯ä»¥è®¾ç½®å‘½ä»¤ä¸å‘½ä»¤çš„æ¥æ”¶è€…



**ä¼˜ç‚¹:**

- é™ä½è€¦åˆåº¦.
- æ–°å¢ä¸€ä¸ªå‘½ä»¤/ä¸€ç»„å‘½ä»¤ç®€å•.
- è°ƒç”¨åŒä¸€æ–¹æ³•å®ç°ä¸åŒåŠŸèƒ½.

**ç¼ºç‚¹ï¼š**

- ä¼šäº§ç”Ÿè¿‡å¤šå…·ä½“å‘½ä»¤ç±».



![](./assets/1.7.png)



è®¾è®¡ä¸€ä¸ªé¥æ§å™¨ï¼Œå¯ä»¥æ§åˆ¶ç”µç¯å¼€å…³ã€‚

<img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/e6bded8e-41a0-489a-88a6-638e88ab7666.jpg"/> 



å‘½ä»¤æ¥å£ï¼š

```java
public interface Command {
    void execute();
}
```

å…·ä½“çš„å•ä¸ªåŠŸèƒ½å®ç°ï¼š

```java
public class LightOnCommand implements Command {
    Light light;

    public LightOnCommand(Light light) {
        this.light = light;
    }

    @Override
    public void execute() {
        light.on();
    }
}
```

```java
public class LightOffCommand implements Command {
    Light light;

    public LightOffCommand(Light light) {
        this.light = light;
    }

    @Override
    public void execute() {
        light.off();
    }
}
```

æ‰€æœ‰åŠŸèƒ½çš„å°è£…ï¼š

```java
public class Light {

    public void on() {
        System.out.println("Light is on!");
    }

    public void off() {
        System.out.println("Light is off!");
    }
}
```

è°ƒç”¨å‘½ä»¤å®ç°åŠŸèƒ½ï¼š

```java
/**
 * é¥æ§å™¨
 */
public class Invoker {
    private Command[] onCommands;
    private Command[] offCommands;
    private final int slotNum = 7;

    public Invoker() {
        this.onCommands = new Command[slotNum];
        this.offCommands = new Command[slotNum];
    }

    public void setOnCommand(Command command, int slot) {
        onCommands[slot] = command;
    }

    public void setOffCommand(Command command, int slot) {
        offCommands[slot] = command;
    }

    public void onButtonWasPushed(int slot) {
        onCommands[slot].execute();
    }

    public void offButtonWasPushed(int slot) {
        offCommands[slot].execute();
    }
}
```

å®¢æˆ·ç«¯ï¼š

```java
public class Client {
    public static void main(String[] args) {
        Invoker invoker = new Invoker();
        Light light = new Light();
        Command lightOnCommand = new LightOnCommand(light);
        Command lightOffCommand = new LightOffCommand(light);
        invoker.setOnCommand(lightOnCommand, 0);
        invoker.setOffCommand(lightOffCommand, 0);
        invoker.onButtonWasPushed(0);
        invoker.offButtonWasPushed(0);
    }
}
```



### JDK

- [java.lang.Runnable](http://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html)
- [Netflix Hystrix](https://github.com/Netflix/Hystrix/wiki)
- [javax.swing.Action](http://docs.oracle.com/javase/8/docs/api/javax/swing/Action.html)



## 3 è§£é‡Šå™¨æ¨¡å¼

ä¸ºè¯­è¨€åˆ›å»ºè§£é‡Šå™¨ï¼Œé€šå¸¸ç”±è¯­è¨€çš„è¯­æ³•å’Œè¯­æ³•åˆ†ææ¥å®šä¹‰ã€‚

**ä¸»è¦ä¼˜ç‚¹ï¼š**

-  **æ˜“äºæ”¹å˜å’Œæ‰©å±•æ–‡æ³•**ã€‚ç”±äºåœ¨è§£é‡Šå™¨æ¨¡å¼ä¸­ä½¿ç”¨ç±»æ¥è¡¨ç¤ºè¯­è¨€çš„æ–‡æ³•è§„åˆ™ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ç»§æ‰¿ç­‰æœºåˆ¶æ¥æ”¹å˜æˆ–æ‰©å±•æ–‡æ³•ã€‚
- æ¯ä¸€æ¡æ–‡æ³•è§„åˆ™éƒ½å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªç±»ï¼Œå› æ­¤å¯ä»¥**æ–¹ä¾¿åœ°å®ç°ä¸€ä¸ªç®€å•çš„è¯­è¨€**ã€‚
-  **å®ç°æ–‡æ³•è¾ƒä¸ºå®¹æ˜“**ã€‚åœ¨æŠ½è±¡è¯­æ³•æ ‘ä¸­æ¯ä¸€ä¸ªè¡¨è¾¾å¼èŠ‚ç‚¹ç±»çš„å®ç°æ–¹å¼éƒ½æ˜¯ç›¸ä¼¼çš„ï¼Œè¿™äº›ç±»çš„ä»£ç ç¼–å†™éƒ½ä¸ä¼šç‰¹åˆ«å¤æ‚ï¼Œè¿˜å¯ä»¥é€šè¿‡ä¸€äº›å·¥å…·è‡ªåŠ¨ç”ŸæˆèŠ‚ç‚¹ç±»ä»£ç ã€‚
-  **å¢åŠ æ–°çš„è§£é‡Šè¡¨è¾¾å¼è¾ƒä¸ºæ–¹ä¾¿**ã€‚å¦‚æœç”¨æˆ·éœ€è¦å¢åŠ æ–°çš„è§£é‡Šè¡¨è¾¾å¼åªéœ€è¦å¯¹åº”å¢åŠ ä¸€ä¸ªæ–°çš„ç»ˆç»“ç¬¦è¡¨è¾¾å¼æˆ–éç»ˆç»“ç¬¦è¡¨è¾¾å¼ç±»ï¼ŒåŸæœ‰è¡¨è¾¾å¼ç±»ä»£ç æ— é¡»ä¿®æ”¹ï¼Œç¬¦åˆ "å¼€é—­åŸåˆ™"ã€‚

**ä¸»è¦ç¼ºç‚¹ï¼š**

-  **å¯¹äºå¤æ‚æ–‡æ³•éš¾ä»¥ç»´æŠ¤**ã€‚åœ¨è§£é‡Šå™¨æ¨¡å¼ä¸­ï¼Œæ¯ä¸€æ¡è§„åˆ™è‡³å°‘éœ€è¦å®šä¹‰ä¸€ä¸ªç±»ï¼Œå› æ­¤å¦‚æœä¸€ä¸ªè¯­è¨€åŒ…å«å¤ªå¤šæ–‡æ³•è§„åˆ™ï¼Œç±»çš„ä¸ªæ•°å°†ä¼šæ€¥å‰§å¢åŠ ï¼Œå¯¼è‡´ç³»ç»Ÿéš¾ä»¥ç®¡ç†å’Œç»´æŠ¤ï¼Œæ­¤æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨è¯­æ³•åˆ†æç¨‹åºç­‰æ–¹å¼æ¥å–ä»£è§£é‡Šå™¨æ¨¡å¼ã€‚
-  **æ‰§è¡Œæ•ˆç‡è¾ƒä½**ã€‚ç”±äºåœ¨è§£é‡Šå™¨æ¨¡å¼ä¸­ä½¿ç”¨äº†å¤§é‡çš„å¾ªç¯å’Œé€’å½’è°ƒç”¨ï¼Œå› æ­¤åœ¨è§£é‡Šè¾ƒä¸ºå¤æ‚çš„å¥å­æ—¶å…¶é€Ÿåº¦å¾ˆæ…¢ï¼Œè€Œä¸”ä»£ç çš„è°ƒè¯•è¿‡ç¨‹ä¹Ÿæ¯”è¾ƒéº»çƒ¦ã€‚

**é€‚ç”¨åœºæ™¯ï¼š**

- å¯ä»¥å°†ä¸€ä¸ªéœ€è¦è§£é‡Šæ‰§è¡Œçš„è¯­è¨€ä¸­çš„å¥å­è¡¨ç¤ºä¸ºä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘ã€‚
- ä¸€äº›é‡å¤å‡ºç°çš„é—®é¢˜å¯ä»¥ç”¨ä¸€ç§ç®€å•çš„è¯­è¨€æ¥è¿›è¡Œè¡¨è¾¾ã€‚
- ä¸€ä¸ªè¯­è¨€çš„æ–‡æ³•è¾ƒä¸ºç®€å•ã€‚
- å¯¹æ‰§è¡Œæ•ˆç‡è¦æ±‚ä¸é«˜ã€‚

 

 ä»¥ä¸‹æ˜¯ä¸€ä¸ªè§„åˆ™æ£€éªŒå™¨å®ç°ï¼Œå…·æœ‰ and å’Œ or è§„åˆ™ï¼Œé€šè¿‡è§„åˆ™å¯ä»¥æ„å»ºä¸€é¢—è§£ææ ‘ï¼Œç”¨æ¥æ£€éªŒä¸€ä¸ªæ–‡æœ¬æ˜¯å¦æ»¡è¶³è§£ææ ‘å®šä¹‰çš„è§„åˆ™ã€‚

ä¾‹å¦‚ä¸€é¢—è§£ææ ‘ä¸º D And (A Or (B C))ï¼Œæ–‡æœ¬ "D A" æ»¡è¶³è¯¥è§£ææ ‘å®šä¹‰çš„è§„åˆ™ã€‚

è¿™é‡Œçš„ Context æŒ‡çš„æ˜¯ Stringã€‚

```java
public abstract class Expression {
    public abstract boolean interpret(String str);
}
```

```java
public class TerminalExpression extends Expression {

    private String literal = null;

    public TerminalExpression(String str) {
        literal = str;
    }

    public boolean interpret(String str) {
        StringTokenizer st = new StringTokenizer(str);
        while (st.hasMoreTokens()) {
            String test = st.nextToken();
            if (test.equals(literal)) {
                return true;
            }
        }
        return false;
    }
}
```

```java
public class AndExpression extends Expression {

    private Expression expression1 = null;
    private Expression expression2 = null;

    public AndExpression(Expression expression1, Expression expression2) {
        this.expression1 = expression1;
        this.expression2 = expression2;
    }

    public boolean interpret(String str) {
        return expression1.interpret(str) && expression2.interpret(str);
    }
}
```

```java
public class OrExpression extends Expression {
    private Expression expression1 = null;
    private Expression expression2 = null;

    public OrExpression(Expression expression1, Expression expression2) {
        this.expression1 = expression1;
        this.expression2 = expression2;
    }

    public boolean interpret(String str) {
        return expression1.interpret(str) || expression2.interpret(str);
    }
}
```

```java
public class Client {

    /**
     * æ„å»ºè§£ææ ‘
     */
    public static Expression buildInterpreterTree() {
        // Literal
        Expression terminal1 = new TerminalExpression("A");
        Expression terminal2 = new TerminalExpression("B");
        Expression terminal3 = new TerminalExpression("C");
        Expression terminal4 = new TerminalExpression("D");
        // B C
        Expression alternation1 = new OrExpression(terminal2, terminal3);
        // A Or (B C)
        Expression alternation2 = new OrExpression(terminal1, alternation1);
        // D And (A Or (B C))
        return new AndExpression(terminal4, alternation2);
    }

    public static void main(String[] args) {
        Expression define = buildInterpreterTree();
        String context1 = "D A";
        String context2 = "A B";
        System.out.println(define.interpret(context1));
        System.out.println(define.interpret(context2));
    }
}
```

```html
true
false
```

### JDK

- [java.util.Pattern](http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html)
- [java.text.Normalizer](http://docs.oracle.com/javase/8/docs/api/java/text/Normalizer.html)
- All subclasses of [java.text.Format](http://docs.oracle.com/javase/8/docs/api/java/text/Format.html)
- [javax.el.ELResolver](http://docs.oracle.com/javaee/7/api/javax/el/ELResolver.html)

 



## 4 è¿­ä»£å™¨

æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªé›†åˆå¯¹è±¡ä¸­çš„å„ç§å…ƒç´ ï¼Œè€Œåˆä¸æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤º. 

- Aggregate æ˜¯èšåˆç±»ï¼Œå…¶ä¸­ createIterator() æ–¹æ³•å¯ä»¥äº§ç”Ÿä¸€ä¸ª Iteratorï¼›
- Iterator ä¸»è¦å®šä¹‰äº† hasNext() å’Œ next() æ–¹æ³•ã€‚
- Client ç»„åˆäº† Aggregateï¼Œä¸ºäº†è¿­ä»£éå† Aggregateï¼Œä¹Ÿéœ€è¦ç»„åˆ Iteratorã€‚



<img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/89292ae1-5f13-44dc-b508-3f035e80bf89.png"/> 

```java
public interface Aggregate {
    Iterator createIterator();
}
```

```java
public class ConcreteAggregate implements Aggregate {

    private Integer[] items;

    public ConcreteAggregate() {
        items = new Integer[10];
        for (int i = 0; i < items.length; i++) {
            items[i] = i;
        }
    }

    @Override
    public Iterator createIterator() {
        return new ConcreteIterator<Integer>(items);
    }
}
```

```java
public interface Iterator<Item> {

    Item next();

    boolean hasNext();
}
```

```java
public class ConcreteIterator<Item> implements Iterator {

    private Item[] items;
    private int position = 0;

    public ConcreteIterator(Item[] items) {
        this.items = items;
    }

    @Override
    public Object next() {
        return items[position++];
    }

    @Override
    public boolean hasNext() {
        return position < items.length;
    }
}
```

```java
public class Client {

    public static void main(String[] args) {
        Aggregate aggregate = new ConcreteAggregate();
        Iterator<Integer> iterator = aggregate.createIterator();
        while (iterator.hasNext()) {
            System.out.println(iterator.next());
        }
    }
}
```

### JDK

- [java.util.Iterator](http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html)
- [java.util.Enumeration](http://docs.oracle.com/javase/8/docs/api/java/util/Enumeration.html)

 

 

